{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _color = require('./helpers/color');\n\nvar _color2 = _interopRequireDefault(_color);\n\nvar _percentage = require('./helpers/percentage');\n\nvar _percentage2 = _interopRequireDefault(_percentage);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n}\n\nvar modesMap = ['RGB', 'HSB'];\n\nvar Params = function (_React$Component) {\n  _inherits(Params, _React$Component);\n\n  function Params(props) {\n    _classCallCheck(this, Params); // 管理 input 的状态\n\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.getChannelInRange = function (value, index) {\n      var channelMap = {\n        RGB: [[0, 255], [0, 255], [0, 255]],\n        HSB: [[0, 359], [0, 100], [0, 100]]\n      };\n      var mode = _this.state.mode;\n      var range = channelMap[mode][index];\n      var result = parseInt(value, 10);\n\n      if (isNaN(result)) {\n        result = 0;\n      }\n\n      result = Math.max(range[0], result);\n      result = Math.min(result, range[1]);\n      return result;\n    };\n\n    _this.getPrefixCls = function () {\n      return _this.props.rootPrefixCls + '-params';\n    };\n\n    _this.handleHexBlur = function () {\n      var hex = _this.state.hex;\n      var color = null;\n\n      if (_color2[\"default\"].isValidHex(hex)) {\n        color = new _color2[\"default\"](hex);\n      }\n\n      if (color !== null) {\n        _this.setState({\n          color: color,\n          hex: hex\n        });\n\n        _this.props.onChange(color, false);\n      }\n    };\n\n    _this.handleHexPress = function (event) {\n      var hex = _this.state.hex;\n\n      if (event.nativeEvent.which === 13) {\n        var color = null;\n\n        if (_color2[\"default\"].isValidHex(hex)) {\n          color = new _color2[\"default\"](hex);\n        }\n\n        if (color !== null) {\n          _this.setState({\n            color: color,\n            hex: hex\n          });\n\n          _this.props.onChange(color, false);\n        }\n      }\n    };\n\n    _this.handleHexChange = function (event) {\n      var hex = event.target.value;\n\n      _this.setState({\n        hex: hex\n      });\n    };\n\n    _this.handleModeChange = function () {\n      var mode = _this.state.mode;\n      var modeIndex = (modesMap.indexOf(mode) + 1) % modesMap.length;\n      mode = modesMap[modeIndex];\n\n      _this.setState({\n        mode: mode\n      });\n    };\n\n    _this.handleAlphaHandler = function (event) {\n      var alpha = parseInt(event.target.value, 10);\n\n      if (isNaN(alpha)) {\n        alpha = 0;\n      }\n\n      alpha = Math.max(0, alpha);\n      alpha = Math.min(alpha, 100);\n\n      _this.props.onAlphaChange(alpha);\n    };\n\n    _this.updateColorByChanel = function (channel, value) {\n      var color = _this.props.color;\n      var mode = _this.state.mode;\n\n      if (mode === 'HSB') {\n        if (channel === 'H') {\n          color.hue = parseInt(value, 10);\n        } else if (channel === 'S') {\n          color.saturation = parseInt(value, 10) / 100;\n        } else if (channel === 'B') {\n          color.brightness = parseInt(value, 10) / 100;\n        }\n      } else {\n        if (channel === 'R') {\n          color.red = parseInt(value, 10);\n        } else if (channel === 'G') {\n          color.green = parseInt(value, 10);\n        } else if (channel === 'B') {\n          color.blue = parseInt(value, 10);\n        }\n      }\n\n      return color;\n    };\n\n    _this.handleColorChannelChange = function (index, event) {\n      var value = _this.getChannelInRange(event.target.value, index);\n\n      var mode = _this.state.mode;\n      var channel = mode[index];\n\n      var color = _this.updateColorByChanel(channel, value);\n\n      _this.setState({\n        hex: color.hex,\n        color: color\n      }, function () {\n        _this.props.onChange(color, false);\n      });\n    };\n\n    _this.state = {\n      mode: props.mode,\n      hex: props.color.hex,\n      color: props.color // instanceof tinycolor\n\n    };\n    return _this;\n  }\n\n  Params.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var nextColor = nextProps.color;\n    this.setState({\n      color: nextColor,\n      hex: nextColor.hex\n    });\n  };\n\n  Params.prototype.render = function render() {\n    var _cx;\n\n    var prefixCls = this.getPrefixCls();\n    var enableAlpha = this.props.enableAlpha;\n    var _state = this.state,\n        mode = _state.mode,\n        color = _state.color;\n    var colorChannel = color[mode];\n\n    if (mode === 'HSB') {\n      colorChannel[0] = parseInt(colorChannel[0], 10);\n      colorChannel[1] = (0, _percentage2[\"default\"])(colorChannel[1]);\n      colorChannel[2] = (0, _percentage2[\"default\"])(colorChannel[2]);\n    }\n\n    var paramsClasses = (0, _classnames2[\"default\"])((_cx = {}, _defineProperty(_cx, prefixCls, true), _defineProperty(_cx, prefixCls + '-has-alpha', enableAlpha), _cx));\n    return _react2[\"default\"].createElement('div', {\n      className: paramsClasses\n    }, _react2[\"default\"].createElement('div', {\n      className: prefixCls + '-input'\n    }, _react2[\"default\"].createElement('input', {\n      className: prefixCls + '-hex',\n      type: 'text',\n      maxLength: '6',\n      onKeyPress: this.handleHexPress,\n      onBlur: this.handleHexBlur,\n      onChange: this.handleHexChange,\n      value: this.state.hex.toLowerCase()\n    }), _react2[\"default\"].createElement('input', {\n      type: 'number',\n      ref: 'channel_0',\n      value: colorChannel[0],\n      onChange: this.handleColorChannelChange.bind(null, 0)\n    }), _react2[\"default\"].createElement('input', {\n      type: 'number',\n      ref: 'channel_1',\n      value: colorChannel[1],\n      onChange: this.handleColorChannelChange.bind(null, 1)\n    }), _react2[\"default\"].createElement('input', {\n      type: 'number',\n      ref: 'channel_2',\n      value: colorChannel[2],\n      onChange: this.handleColorChannelChange.bind(null, 2)\n    }), enableAlpha && _react2[\"default\"].createElement('input', {\n      type: 'number',\n      value: Math.round(this.props.alpha),\n      onChange: this.handleAlphaHandler\n    })), _react2[\"default\"].createElement('div', {\n      className: prefixCls + '-lable'\n    }, _react2[\"default\"].createElement('label', {\n      className: prefixCls + '-lable-hex'\n    }, 'Hex'), _react2[\"default\"].createElement('label', {\n      className: prefixCls + '-lable-number',\n      onClick: this.handleModeChange\n    }, mode[0]), _react2[\"default\"].createElement('label', {\n      className: prefixCls + '-lable-number',\n      onClick: this.handleModeChange\n    }, mode[1]), _react2[\"default\"].createElement('label', {\n      className: prefixCls + '-lable-number',\n      onClick: this.handleModeChange\n    }, mode[2]), enableAlpha && _react2[\"default\"].createElement('label', {\n      className: prefixCls + '-lable-alpha'\n    }, 'A')));\n  };\n\n  return Params;\n}(_react2[\"default\"].Component);\n\nexports[\"default\"] = Params;\nParams.propTypes = {\n  alpha: _propTypes2[\"default\"].number,\n  enableAlpha: _propTypes2[\"default\"].bool,\n  color: _propTypes2[\"default\"].object.isRequired,\n  mode: _propTypes2[\"default\"].oneOf(modesMap),\n  onAlphaChange: _propTypes2[\"default\"].func,\n  onChange: _propTypes2[\"default\"].func,\n  rootPrefixCls: _propTypes2[\"default\"].string\n};\nParams.defaultProps = {\n  mode: modesMap[0],\n  enableAlpha: true\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/xiangmingxin/Wicrecend/Primitives/node_modules/rc-color-picker/lib/Params.js"],"names":["Object","defineProperty","exports","value","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_classnames","_classnames2","_color","_color2","_percentage","_percentage2","obj","__esModule","_defaults","defaults","keys","getOwnPropertyNames","i","length","key","getOwnPropertyDescriptor","configurable","undefined","_defineProperty","enumerable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","modesMap","Params","_React$Component","props","_this","getChannelInRange","index","channelMap","RGB","HSB","mode","state","range","result","parseInt","isNaN","Math","max","min","getPrefixCls","rootPrefixCls","handleHexBlur","hex","color","isValidHex","setState","onChange","handleHexPress","event","nativeEvent","which","handleHexChange","target","handleModeChange","modeIndex","indexOf","handleAlphaHandler","alpha","onAlphaChange","updateColorByChanel","channel","hue","saturation","brightness","red","green","blue","handleColorChannelChange","componentWillReceiveProps","nextProps","nextColor","render","_cx","prefixCls","enableAlpha","_state","colorChannel","paramsClasses","createElement","className","type","maxLength","onKeyPress","onBlur","toLowerCase","ref","bind","round","onClick","Component","propTypes","number","bool","object","isRequired","oneOf","func","string","defaultProps","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _color = require('./helpers/color');\n\nvar _color2 = _interopRequireDefault(_color);\n\nvar _percentage = require('./helpers/percentage');\n\nvar _percentage2 = _interopRequireDefault(_percentage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar modesMap = ['RGB', 'HSB'];\n\nvar Params = function (_React$Component) {\n  _inherits(Params, _React$Component);\n\n  function Params(props) {\n    _classCallCheck(this, Params);\n\n    // 管理 input 的状态\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.getChannelInRange = function (value, index) {\n      var channelMap = {\n        RGB: [[0, 255], [0, 255], [0, 255]],\n        HSB: [[0, 359], [0, 100], [0, 100]]\n      };\n      var mode = _this.state.mode;\n      var range = channelMap[mode][index];\n      var result = parseInt(value, 10);\n      if (isNaN(result)) {\n        result = 0;\n      }\n      result = Math.max(range[0], result);\n      result = Math.min(result, range[1]);\n      return result;\n    };\n\n    _this.getPrefixCls = function () {\n      return _this.props.rootPrefixCls + '-params';\n    };\n\n    _this.handleHexBlur = function () {\n      var hex = _this.state.hex;\n\n      var color = null;\n\n      if (_color2[\"default\"].isValidHex(hex)) {\n        color = new _color2[\"default\"](hex);\n      }\n\n      if (color !== null) {\n        _this.setState({\n          color: color,\n          hex: hex\n        });\n        _this.props.onChange(color, false);\n      }\n    };\n\n    _this.handleHexPress = function (event) {\n      var hex = _this.state.hex;\n      if (event.nativeEvent.which === 13) {\n        var color = null;\n\n        if (_color2[\"default\"].isValidHex(hex)) {\n          color = new _color2[\"default\"](hex);\n        }\n\n        if (color !== null) {\n          _this.setState({\n            color: color,\n            hex: hex\n          });\n          _this.props.onChange(color, false);\n        }\n      }\n    };\n\n    _this.handleHexChange = function (event) {\n      var hex = event.target.value;\n\n      _this.setState({\n        hex: hex\n      });\n    };\n\n    _this.handleModeChange = function () {\n      var mode = _this.state.mode;\n\n      var modeIndex = (modesMap.indexOf(mode) + 1) % modesMap.length;\n\n      mode = modesMap[modeIndex];\n\n      _this.setState({\n        mode: mode\n      });\n    };\n\n    _this.handleAlphaHandler = function (event) {\n      var alpha = parseInt(event.target.value, 10);\n\n      if (isNaN(alpha)) {\n        alpha = 0;\n      }\n      alpha = Math.max(0, alpha);\n      alpha = Math.min(alpha, 100);\n\n      _this.props.onAlphaChange(alpha);\n    };\n\n    _this.updateColorByChanel = function (channel, value) {\n      var color = _this.props.color;\n      var mode = _this.state.mode;\n\n\n      if (mode === 'HSB') {\n        if (channel === 'H') {\n          color.hue = parseInt(value, 10);\n        } else if (channel === 'S') {\n          color.saturation = parseInt(value, 10) / 100;\n        } else if (channel === 'B') {\n          color.brightness = parseInt(value, 10) / 100;\n        }\n      } else {\n        if (channel === 'R') {\n          color.red = parseInt(value, 10);\n        } else if (channel === 'G') {\n          color.green = parseInt(value, 10);\n        } else if (channel === 'B') {\n          color.blue = parseInt(value, 10);\n        }\n      }\n\n      return color;\n    };\n\n    _this.handleColorChannelChange = function (index, event) {\n      var value = _this.getChannelInRange(event.target.value, index);\n      var mode = _this.state.mode;\n\n      var channel = mode[index];\n\n      var color = _this.updateColorByChanel(channel, value);\n\n      _this.setState({\n        hex: color.hex,\n        color: color\n      }, function () {\n        _this.props.onChange(color, false);\n      });\n    };\n\n    _this.state = {\n      mode: props.mode,\n      hex: props.color.hex,\n      color: props.color // instanceof tinycolor\n    };\n    return _this;\n  }\n\n  Params.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var nextColor = nextProps.color;\n\n\n    this.setState({\n      color: nextColor,\n      hex: nextColor.hex\n    });\n  };\n\n  Params.prototype.render = function render() {\n    var _cx;\n\n    var prefixCls = this.getPrefixCls();\n\n    var enableAlpha = this.props.enableAlpha;\n    var _state = this.state,\n        mode = _state.mode,\n        color = _state.color;\n\n    var colorChannel = color[mode];\n\n    if (mode === 'HSB') {\n      colorChannel[0] = parseInt(colorChannel[0], 10);\n      colorChannel[1] = (0, _percentage2[\"default\"])(colorChannel[1]);\n      colorChannel[2] = (0, _percentage2[\"default\"])(colorChannel[2]);\n    }\n\n    var paramsClasses = (0, _classnames2[\"default\"])((_cx = {}, _defineProperty(_cx, prefixCls, true), _defineProperty(_cx, prefixCls + '-has-alpha', enableAlpha), _cx));\n\n    return _react2[\"default\"].createElement(\n      'div',\n      { className: paramsClasses },\n      _react2[\"default\"].createElement(\n        'div',\n        { className: prefixCls + '-input' },\n        _react2[\"default\"].createElement('input', {\n          className: prefixCls + '-hex',\n          type: 'text',\n          maxLength: '6',\n          onKeyPress: this.handleHexPress,\n          onBlur: this.handleHexBlur,\n          onChange: this.handleHexChange,\n          value: this.state.hex.toLowerCase()\n        }),\n        _react2[\"default\"].createElement('input', {\n          type: 'number',\n          ref: 'channel_0',\n          value: colorChannel[0],\n          onChange: this.handleColorChannelChange.bind(null, 0)\n        }),\n        _react2[\"default\"].createElement('input', {\n          type: 'number',\n          ref: 'channel_1',\n          value: colorChannel[1],\n          onChange: this.handleColorChannelChange.bind(null, 1)\n        }),\n        _react2[\"default\"].createElement('input', {\n          type: 'number',\n          ref: 'channel_2',\n          value: colorChannel[2],\n          onChange: this.handleColorChannelChange.bind(null, 2)\n        }),\n        enableAlpha && _react2[\"default\"].createElement('input', {\n          type: 'number',\n          value: Math.round(this.props.alpha),\n          onChange: this.handleAlphaHandler\n        })\n      ),\n      _react2[\"default\"].createElement(\n        'div',\n        { className: prefixCls + '-lable' },\n        _react2[\"default\"].createElement(\n          'label',\n          { className: prefixCls + '-lable-hex' },\n          'Hex'\n        ),\n        _react2[\"default\"].createElement(\n          'label',\n          { className: prefixCls + '-lable-number', onClick: this.handleModeChange },\n          mode[0]\n        ),\n        _react2[\"default\"].createElement(\n          'label',\n          { className: prefixCls + '-lable-number', onClick: this.handleModeChange },\n          mode[1]\n        ),\n        _react2[\"default\"].createElement(\n          'label',\n          { className: prefixCls + '-lable-number', onClick: this.handleModeChange },\n          mode[2]\n        ),\n        enableAlpha && _react2[\"default\"].createElement(\n          'label',\n          { className: prefixCls + '-lable-alpha' },\n          'A'\n        )\n      )\n    );\n  };\n\n  return Params;\n}(_react2[\"default\"].Component);\n\nexports[\"default\"] = Params;\n\n\nParams.propTypes = {\n  alpha: _propTypes2[\"default\"].number,\n  enableAlpha: _propTypes2[\"default\"].bool,\n  color: _propTypes2[\"default\"].object.isRequired,\n  mode: _propTypes2[\"default\"].oneOf(modesMap),\n  onAlphaChange: _propTypes2[\"default\"].func,\n  onChange: _propTypes2[\"default\"].func,\n  rootPrefixCls: _propTypes2[\"default\"].string\n};\n\nParams.defaultProps = {\n  mode: modesMap[0],\n  enableAlpha: true\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}