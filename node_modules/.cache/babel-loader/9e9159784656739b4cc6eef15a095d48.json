{"ast":null,"code":"import \"antd/es/date-picker/style\";\nimport _DatePicker from \"antd/es/date-picker\";\nimport _objectSpread from \"/Users/xiangmingxin/Wicrecend/\\u56FE\\u5143/react-visual-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/xiangmingxin/Wicrecend/\\u56FE\\u5143/react-visual-data/src/materials/form/date/range.js\";\nimport React from \"react\";\nimport locale from \"antd/es/date-picker/locale/zh_CN\";\nimport moment from \"moment\";\nimport \"moment/locale/zh-cn\";\nmoment.locale(\"zh-cn\");\nimport { getFormat } from \"@/library/form-render/utils\";\n\nfunction rangeHoc(props, onChange, RangeComponent) {\n  var value = props.value;\n  var _props$schema$format = props.schema.format,\n      format = _props$schema$format === void 0 ? \"dateTime\" : _props$schema$format;\n  var dateFormat = getFormat(format);\n  var defaultObj = {};\n\n  if (value && Array.isArray(value) && value[0] && value[1]) {\n    defaultObj = {\n      defaultValue: [moment(props.value[0], dateFormat), moment(props.value[1], dateFormat)]\n    };\n  }\n\n  var dateParms = _objectSpread(_objectSpread(_objectSpread({}, props.options), defaultObj), {}, {\n    style: {\n      width: \"100%\"\n    },\n    showTime: format === \"dateTime\",\n    disabled: props.disabled,\n    onChange: onChange\n  });\n\n  return /*#__PURE__*/React.createElement(RangeComponent, Object.assign({}, dateParms, {\n    locale: locale,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 10\n    }\n  }));\n}\n\nvar RangePicker = _DatePicker.RangePicker;\n\nvar VdateRange = function VdateRange(props) {\n  var onChange = function onChange(value, string) {\n    return props.onChange(props.name, string);\n  };\n\n  return rangeHoc(props, onChange, RangePicker);\n};\n\nexport default VdateRange;","map":{"version":3,"sources":["/Users/xiangmingxin/Wicrecend/图元/react-visual-data/src/materials/form/date/range.js"],"names":["React","locale","moment","getFormat","rangeHoc","props","onChange","RangeComponent","value","schema","format","dateFormat","defaultObj","Array","isArray","defaultValue","dateParms","options","style","width","showTime","disabled","RangePicker","VdateRange","string","name"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,kCAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,qBAAP;AACAA,MAAM,CAACD,MAAP,CAAc,OAAd;AACA,SAASE,SAAT,QAA0B,6BAA1B;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmCC,cAAnC,EAAmD;AAAA,MACzCC,KADyC,GAC/BH,KAD+B,CACzCG,KADyC;AAAA,6BAEjBH,KAAK,CAACI,MAFW,CAEzCC,MAFyC;AAAA,MAEzCA,MAFyC,qCAEhC,UAFgC;AAGjD,MAAMC,UAAU,GAAGR,SAAS,CAACO,MAAD,CAA5B;AAEA,MAAIE,UAAU,GAAG,EAAjB;;AACA,MAAIJ,KAAK,IAAIK,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAT,IAAiCA,KAAK,CAAC,CAAD,CAAtC,IAA6CA,KAAK,CAAC,CAAD,CAAtD,EAA2D;AACzDI,IAAAA,UAAU,GAAG;AACXG,MAAAA,YAAY,EAAE,CAACb,MAAM,CAACG,KAAK,CAACG,KAAN,CAAY,CAAZ,CAAD,EAAiBG,UAAjB,CAAP,EAAqCT,MAAM,CAACG,KAAK,CAACG,KAAN,CAAY,CAAZ,CAAD,EAAiBG,UAAjB,CAA3C;AADH,KAAb;AAGD;;AAED,MAAMK,SAAS,iDACVX,KAAK,CAACY,OADI,GAEVL,UAFU;AAGbM,IAAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAHM;AAIbC,IAAAA,QAAQ,EAAEV,MAAM,KAAK,UAJR;AAKbW,IAAAA,QAAQ,EAAEhB,KAAK,CAACgB,QALH;AAMbf,IAAAA,QAAQ,EAARA;AANa,IAAf;;AASA,sBAAO,oBAAC,cAAD,oBAAoBU,SAApB;AAA+B,IAAA,MAAM,EAAEf,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD;;IAEOqB,W,eAAAA,W;;AAER,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAClB,KAAD,EAAW;AAC5B,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACE,KAAD,EAAQgB,MAAR;AAAA,WAAmBnB,KAAK,CAACC,QAAN,CAAeD,KAAK,CAACoB,IAArB,EAA2BD,MAA3B,CAAnB;AAAA,GAAjB;;AACA,SAAOpB,QAAQ,CAACC,KAAD,EAAQC,QAAR,EAAkBgB,WAAlB,CAAf;AACD,CAHD;;AAKA,eAAeC,UAAf","sourcesContent":["import React from \"react\";\nimport { DatePicker } from \"antd\";\nimport locale from \"antd/es/date-picker/locale/zh_CN\";\nimport moment from \"moment\";\nimport \"moment/locale/zh-cn\";\nmoment.locale(\"zh-cn\");\nimport { getFormat } from \"@/library/form-render/utils\";\n\nfunction rangeHoc(props, onChange, RangeComponent) {\n  const { value } = props;\n  const { format = \"dateTime\" } = props.schema;\n  const dateFormat = getFormat(format);\n\n  let defaultObj = {};\n  if (value && Array.isArray(value) && value[0] && value[1]) {\n    defaultObj = {\n      defaultValue: [moment(props.value[0], dateFormat), moment(props.value[1], dateFormat)]\n    };\n  }\n\n  const dateParms = {\n    ...props.options,\n    ...defaultObj,\n    style: { width: \"100%\" },\n    showTime: format === \"dateTime\",\n    disabled: props.disabled,\n    onChange\n  };\n\n  return <RangeComponent {...dateParms} locale={locale} />;\n}\n\nconst { RangePicker } = DatePicker;\n\nconst VdateRange = (props) => {\n  const onChange = (value, string) => props.onChange(props.name, string);\n  return rangeHoc(props, onChange, RangePicker);\n};\n\nexport default VdateRange;\n"]},"metadata":{},"sourceType":"module"}