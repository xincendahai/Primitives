{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/pagination/style\";\nimport _Pagination from \"antd/es/pagination\";\nimport _slicedToArray from \"/Users/xiangmingxin/Wicrecend/Primitives/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/xiangmingxin/Wicrecend/Primitives/src/materials/background/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport cx from \"classnames\";\nimport { Scrollbar } from \"~components\";\nimport { chunk } from \"~utils/helper\";\nimport { DEFINE_BACKGROUND } from \"~common/constants\";\nvar lists = chunk(DEFINE_BACKGROUND, 9);\n\nvar DefineImage = function DefineImage(_ref) {\n  var name = _ref.name,\n      value = _ref.value,\n      onChange = _ref.onChange;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState(\"background-1.png\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      image = _useState4[0],\n      setImage = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      page = _useState6[0],\n      setPage = _useState6[1];\n\n  var onCancel = function onCancel() {\n    setVisible(false);\n  };\n\n  var onPicker = function onPicker(val) {\n    setImage(val);\n    setVisible(false);\n    onChange(name, val);\n  };\n\n  var onChangePage = function onChangePage(page) {\n    setPage(page);\n  };\n\n  useEffect(function () {\n    value && setImage(value);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Modal, {\n    title: \"\\u8BF7\\u9009\\u62E9\\u56FE\\u7247\",\n    width: 1000,\n    forceRender: true,\n    visible: visible,\n    destroyOnClose: true,\n    maskClosable: false,\n    footer: /*#__PURE__*/React.createElement(_Pagination, {\n      current: page,\n      defaultPageSize: 8,\n      total: DEFINE_BACKGROUND.length,\n      size: \"small\",\n      onChange: onChangePage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }),\n    onCancel: onCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Scrollbar, {\n    height: 600,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Row, {\n    gutter: [20, 20],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, lists[page - 1].map(function (o) {\n    return /*#__PURE__*/React.createElement(_Col, {\n      span: 8,\n      key: o,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      key: o,\n      className: cx(\"bg-gallery\", {\n        \"is-active\": image == o\n      }),\n      onClick: function onClick() {\n        return onPicker(o);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: 230,\n        width: \"100%\",\n        background: \"url(./static/templet/\".concat(o, \") no-repeat center/contain\")\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    })));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-container__bd\",\n    style: {\n      background: \"url(./static/templet/\".concat(image, \") no-repeat center/contain\")\n    },\n    onClick: function onClick() {\n      return setVisible(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bg-container__bd--tips\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"\\u70B9\\u51FB\\u6B64\\u5904\\u66F4\\u6362\\u56FE\\u7247\")));\n};\n\nexport default DefineImage;","map":{"version":3,"sources":["/Users/xiangmingxin/Wicrecend/Primitives/src/materials/background/index.js"],"names":["React","useState","useEffect","cx","Scrollbar","chunk","DEFINE_BACKGROUND","lists","DefineImage","name","value","onChange","visible","setVisible","image","setImage","page","setPage","onCancel","onPicker","val","onChangePage","length","map","o","height","width","background"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Modal, Row, Col, Pagination } from \"antd\";\nimport cx from \"classnames\";\nimport { Scrollbar } from \"~components\";\nimport { chunk } from \"~utils/helper\";\nimport { DEFINE_BACKGROUND } from \"~common/constants\";\n\nconst lists = chunk(DEFINE_BACKGROUND, 9);\n\nconst DefineImage = ({ name, value, onChange }) => {\n  const [visible, setVisible] = useState(false);\n  const [image, setImage] = useState(\"background-1.png\");\n  const [page, setPage] = useState(1);\n\n  const onCancel = () => {\n    setVisible(false);\n  };\n\n  const onPicker = (val) => {\n    setImage(val);\n    setVisible(false);\n    onChange(name, val);\n  };\n\n  const onChangePage = (page) => {\n    setPage(page);\n  };\n\n  useEffect(() => {\n    value && setImage(value);\n  }, []);\n\n  return (\n    <>\n      <Modal\n        title=\"请选择图片\"\n        width={1000}\n        forceRender={true}\n        visible={visible}\n        destroyOnClose={true}\n        maskClosable={false}\n        footer={\n          <Pagination\n            current={page}\n            defaultPageSize={8}\n            total={DEFINE_BACKGROUND.length}\n            size=\"small\"\n            onChange={onChangePage}\n          />\n        }\n        onCancel={onCancel}\n      >\n        <Scrollbar height={600}>\n          <Row gutter={[20, 20]}>\n            {lists[page - 1].map((o) => {\n              return (\n                <Col span={8} key={o}>\n                  <div key={o} className={cx(\"bg-gallery\", { \"is-active\": image == o })} onClick={() => onPicker(o)}>\n                    <div\n                      style={{\n                        height: 230,\n                        width: \"100%\",\n                        background: `url(./static/templet/${o}) no-repeat center/contain`\n                      }}\n                    ></div>\n                  </div>\n                </Col>\n              );\n            })}\n          </Row>\n        </Scrollbar>\n      </Modal>\n      <div\n        className=\"bg-container__bd\"\n        style={{\n          background: `url(./static/templet/${image}) no-repeat center/contain`\n        }}\n        onClick={() => setVisible(true)}\n      >\n        <span className=\"bg-container__bd--tips\">点击此处更换图片</span>\n      </div>\n    </>\n  );\n};\n\nexport default DefineImage;\n"]},"metadata":{},"sourceType":"module"}