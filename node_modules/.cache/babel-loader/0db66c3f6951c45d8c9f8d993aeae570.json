{"ast":null,"code":"import \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport _objectSpread from \"/Users/xiangmingxin/Wicrecend/\\u56FE\\u5143/react-visual-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/xiangmingxin/Wicrecend/\\u56FE\\u5143/react-visual-data/src/materials/form/select/index.js\";\n\nimport React, { useMemo } from \"react\";\nimport fetcher from \"~materials/hoc\";\n\nvar SelectComponent = function SelectComponent(props) {\n  var style = props.invalid ? {\n    borderColor: \"#f5222d\"\n  } : {};\n\n  var _ref = props.schema || {},\n      enums = _ref.enum,\n      enumNames = _ref.enumNames;\n\n  var rootValue = useMemo(function () {\n    return props.value ? props.value : undefined;\n  }, [props.value]);\n\n  var onChange = function onChange(value) {\n    return props.onChange(props.name, value || \"\");\n  };\n\n  return /*#__PURE__*/React.createElement(_Select, Object.assign({\n    style: _objectSpread({\n      width: \"100%\"\n    }, style),\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, props.options, {\n    disabled: props.disabled || props.readonly,\n    defaultValue: rootValue,\n    onChange: onChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }\n  }), (enums || []).map(function (val, index) {\n    var option = enumNames ? enumNames[index] : val;\n    var isHtml = typeof option === \"string\" && option[0] === \"<\";\n\n    if (isHtml) {\n      option = /*#__PURE__*/React.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: option\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(_Select.Option, {\n      value: val,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }\n    }, option);\n  }));\n};\n\nexport default fetcher(SelectComponent);","map":{"version":3,"sources":["/Users/xiangmingxin/Wicrecend/图元/react-visual-data/src/materials/form/select/index.js"],"names":["React","useMemo","fetcher","SelectComponent","props","style","invalid","borderColor","schema","enums","enum","enumNames","rootValue","value","undefined","onChange","name","width","options","disabled","readonly","map","val","index","option","isHtml","__html"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AAEA,OAAOC,OAAP,MAAoB,gBAApB;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,MAAMC,KAAK,GAAGD,KAAK,CAACE,OAAN,GAAgB;AAAEC,IAAAA,WAAW,EAAE;AAAf,GAAhB,GAA6C,EAA3D;;AADiC,aAEEH,KAAK,CAACI,MAAN,IAAgB,EAFlB;AAAA,MAEnBC,KAFmB,QAEzBC,IAFyB;AAAA,MAEZC,SAFY,QAEZA,SAFY;;AAIjC,MAAMC,SAAS,GAAGX,OAAO,CAAC,YAAM;AAC9B,WAAOG,KAAK,CAACS,KAAN,GAAcT,KAAK,CAACS,KAApB,GAA4BC,SAAnC;AACD,GAFwB,EAEtB,CAACV,KAAK,CAACS,KAAP,CAFsB,CAAzB;;AAIA,MAAME,QAAQ,GAAG,SAAXA,QAAW,CAACF,KAAD;AAAA,WAAWT,KAAK,CAACW,QAAN,CAAeX,KAAK,CAACY,IAArB,EAA2BH,KAAK,IAAI,EAApC,CAAX;AAAA,GAAjB;;AAEA,sBACE;AACE,IAAA,KAAK;AAAII,MAAAA,KAAK,EAAE;AAAX,OAAsBZ,KAAtB,CADP;AAEE,IAAA,WAAW,EAAC;AAFd,KAGMD,KAAK,CAACc,OAHZ;AAIE,IAAA,QAAQ,EAAEd,KAAK,CAACe,QAAN,IAAkBf,KAAK,CAACgB,QAJpC;AAKE,IAAA,YAAY,EAAER,SALhB;AAME,IAAA,QAAQ,EAAEG,QANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQG,CAACN,KAAK,IAAI,EAAV,EAAcY,GAAd,CAAkB,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACjC,QAAIC,MAAM,GAAGb,SAAS,GAAGA,SAAS,CAACY,KAAD,CAAZ,GAAsBD,GAA5C;AACA,QAAMG,MAAM,GAAG,OAAOD,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAAC,CAAD,CAAN,KAAc,GAA3D;;AACA,QAAIC,MAAJ,EAAY;AACVD,MAAAA,MAAM,gBAAG;AAAM,QAAA,uBAAuB,EAAE;AAAEE,UAAAA,MAAM,EAAEF;AAAV,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAT;AACD;;AACD,wBACE,4BAAQ,MAAR;AAAe,MAAA,KAAK,EAAEF,GAAtB;AAA2B,MAAA,GAAG,EAAEC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGC,MADH,CADF;AAKD,GAXA,CARH,CADF;AAuBD,CAjCD;;AAmCA,eAAetB,OAAO,CAACC,eAAD,CAAtB","sourcesContent":["import React, { useMemo } from \"react\";\nimport { Select } from \"antd\";\nimport fetcher from \"~materials/hoc\";\n\nconst SelectComponent = (props) => {\n  const style = props.invalid ? { borderColor: \"#f5222d\" } : {};\n  const { enum: enums, enumNames } = props.schema || {};\n\n  const rootValue = useMemo(() => {\n    return props.value ? props.value : undefined;\n  }, [props.value]);\n\n  const onChange = (value) => props.onChange(props.name, value || \"\");\n\n  return (\n    <Select\n      style={{ width: \"100%\", ...style }}\n      placeholder=\"请选择\"\n      {...props.options}\n      disabled={props.disabled || props.readonly}\n      defaultValue={rootValue}\n      onChange={onChange}\n    >\n      {(enums || []).map((val, index) => {\n        let option = enumNames ? enumNames[index] : val;\n        const isHtml = typeof option === \"string\" && option[0] === \"<\";\n        if (isHtml) {\n          option = <span dangerouslySetInnerHTML={{ __html: option }} />;\n        }\n        return (\n          <Select.Option value={val} key={index}>\n            {option}\n          </Select.Option>\n        );\n      })}\n    </Select>\n  );\n};\n\nexport default fetcher(SelectComponent);\n"]},"metadata":{},"sourceType":"module"}