{"ast":null,"code":"import _toConsumableArray from \"/Users/xiangmingxin/Wicrecend/\\u56FE\\u5143/react-visual-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/xiangmingxin/Wicrecend/\\u56FE\\u5143/react-visual-data/src/materials/decoration/src/decoration2.js\";\n\nimport React, { useMemo, forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useAutoResize } from \"~common/hooks\";\nvar defaultColor = [\"#fff\", \"#0de7c2\"];\nvar pointSideLength = 2.5;\nvar halfPointSideLength = pointSideLength / 2;\nvar svgWH = [200, 50];\nvar rowNum = 4;\nvar rowPoints = 20;\n\nfunction getPoints() {\n  var w = svgWH[0],\n      h = svgWH[1];\n  var horizontalGap = w / (rowPoints + 1);\n  var verticalGap = h / (rowNum + 1);\n  var points = new Array(rowNum).fill(0).map(function (foo, i) {\n    return new Array(rowPoints).fill(0).map(function (foo, j) {\n      return [horizontalGap * (j + 1), verticalGap * (i + 1)];\n    });\n  });\n  return points.reduce(function (all, item) {\n    return [].concat(_toConsumableArray(all), _toConsumableArray(item));\n  }, []);\n}\n\nvar Decoration = forwardRef(function (_ref, ref) {\n  var style = _ref.style;\n\n  var _useAutoResize = useAutoResize(ref),\n      width = _useAutoResize.width,\n      height = _useAutoResize.height,\n      domRef = _useAutoResize.domRef;\n\n  function calcSVGData() {\n    var points = getPoints();\n    return {\n      points: points,\n      rects: [points[rowPoints * 2 - 1], points[rowPoints * 2 - 3]],\n      svgScale: [width / svgWH[0], height / svgWH[1]]\n    };\n  }\n\n  var _useMemo = useMemo(calcSVGData, [width, height]),\n      svgScale = _useMemo.svgScale,\n      points = _useMemo.points,\n      rects = _useMemo.rects;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gc-containers\",\n    style: style,\n    ref: domRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"\".concat(svgWH[0], \"px\"),\n    height: \"\".concat(svgWH[1], \"px\"),\n    style: {\n      transform: \"scale(\".concat(svgScale[0], \",\").concat(svgScale[1], \")\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, points.reduce(function (prev, point, i) {\n    return Math.random() > 0.6 ? [].concat(_toConsumableArray(prev), [/*#__PURE__*/React.createElement(\"rect\", {\n      key: i,\n      fill: defaultColor[0],\n      x: point[0] - halfPointSideLength,\n      y: point[1] - halfPointSideLength,\n      width: pointSideLength,\n      height: pointSideLength,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, Math.random() > 0.6 && /*#__PURE__*/React.createElement(\"animate\", {\n      attributeName: \"fill\",\n      values: \"\".concat(defaultColor[0], \";transparent\"),\n      dur: \"1s\",\n      begin: Math.random() * 2,\n      repeatCount: \"indefinite\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }))]) : prev;\n  }, []), !!rects[0] && /*#__PURE__*/React.createElement(\"rect\", {\n    fill: defaultColor[1],\n    x: rects[0][0] - pointSideLength,\n    y: rects[0][1] - pointSideLength,\n    width: pointSideLength * 2,\n    height: pointSideLength * 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"width\",\n    values: \"0;\".concat(pointSideLength * 2),\n    dur: \"2s\",\n    repeatCount: \"indefinite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    values: \"0;\".concat(pointSideLength * 2),\n    dur: \"2s\",\n    repeatCount: \"indefinite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"x\",\n    values: \"\".concat(rects[0][0], \";\").concat(rects[0][0] - pointSideLength),\n    dur: \"2s\",\n    repeatCount: \"indefinite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"y\",\n    values: \"\".concat(rects[0][1], \";\").concat(rects[0][1] - pointSideLength),\n    dur: \"2s\",\n    repeatCount: \"indefinite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  })), !!rects[1] && /*#__PURE__*/React.createElement(\"rect\", {\n    fill: defaultColor[1],\n    x: rects[1][0] - 40,\n    y: rects[1][1] - pointSideLength,\n    width: \"40\",\n    height: pointSideLength * 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"width\",\n    values: \"0;40;0\",\n    dur: \"2s\",\n    repeatCount: \"indefinite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"x\",\n    values: \"\".concat(rects[1][0], \";\").concat(rects[1][0] - 40, \";\").concat(rects[1][0]),\n    dur: \"2s\",\n    repeatCount: \"indefinite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }))));\n});\nDecoration.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  color: PropTypes.array\n};\nexport default Decoration;","map":{"version":3,"sources":["/Users/xiangmingxin/Wicrecend/图元/react-visual-data/src/materials/decoration/src/decoration2.js"],"names":["React","useMemo","forwardRef","PropTypes","useAutoResize","defaultColor","pointSideLength","halfPointSideLength","svgWH","rowNum","rowPoints","getPoints","w","h","horizontalGap","verticalGap","points","Array","fill","map","foo","i","j","reduce","all","item","Decoration","ref","style","width","height","domRef","calcSVGData","rects","svgScale","transform","prev","point","Math","random","propTypes","className","string","object","color","array"],"mappings":"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","sourcesContent":["import React, { useMemo, forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useAutoResize } from \"~common/hooks\";\n\nconst defaultColor = [\"#fff\", \"#0de7c2\"];\nconst pointSideLength = 2.5;\nconst halfPointSideLength = pointSideLength / 2;\nconst svgWH = [200, 50];\nconst rowNum = 4;\nconst rowPoints = 20;\n\nfunction getPoints() {\n  const [w, h] = svgWH;\n\n  const horizontalGap = w / (rowPoints + 1);\n  const verticalGap = h / (rowNum + 1);\n\n  const points = new Array(rowNum)\n    .fill(0)\n    .map((foo, i) => new Array(rowPoints).fill(0).map((foo, j) => [horizontalGap * (j + 1), verticalGap * (i + 1)]));\n\n  return points.reduce((all, item) => [...all, ...item], []);\n}\n\nconst Decoration = forwardRef(({ style }, ref) => {\n  const { width, height, domRef } = useAutoResize(ref);\n\n  function calcSVGData() {\n    const points = getPoints();\n\n    return {\n      points,\n      rects: [points[rowPoints * 2 - 1], points[rowPoints * 2 - 3]],\n      svgScale: [width / svgWH[0], height / svgWH[1]]\n    };\n  }\n\n  const { svgScale, points, rects } = useMemo(calcSVGData, [width, height]);\n\n  return (\n    <div className=\"gc-containers\" style={style} ref={domRef}>\n      <svg\n        width={`${svgWH[0]}px`}\n        height={`${svgWH[1]}px`}\n        style={{ transform: `scale(${svgScale[0]},${svgScale[1]})` }}\n      >\n        {points.reduce((prev, point, i) => {\n          return Math.random() > 0.6\n            ? [\n                ...prev,\n                <rect\n                  key={i}\n                  fill={defaultColor[0]}\n                  x={point[0] - halfPointSideLength}\n                  y={point[1] - halfPointSideLength}\n                  width={pointSideLength}\n                  height={pointSideLength}\n                >\n                  {Math.random() > 0.6 && (\n                    <animate\n                      attributeName=\"fill\"\n                      values={`${defaultColor[0]};transparent`}\n                      dur=\"1s\"\n                      begin={Math.random() * 2}\n                      repeatCount=\"indefinite\"\n                    />\n                  )}\n                </rect>\n              ]\n            : prev;\n        }, [])}\n        {!!rects[0] && (\n          <rect\n            fill={defaultColor[1]}\n            x={rects[0][0] - pointSideLength}\n            y={rects[0][1] - pointSideLength}\n            width={pointSideLength * 2}\n            height={pointSideLength * 2}\n          >\n            <animate attributeName=\"width\" values={`0;${pointSideLength * 2}`} dur=\"2s\" repeatCount=\"indefinite\" />\n            <animate attributeName=\"height\" values={`0;${pointSideLength * 2}`} dur=\"2s\" repeatCount=\"indefinite\" />\n            <animate\n              attributeName=\"x\"\n              values={`${rects[0][0]};${rects[0][0] - pointSideLength}`}\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"y\"\n              values={`${rects[0][1]};${rects[0][1] - pointSideLength}`}\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n          </rect>\n        )}\n        {!!rects[1] && (\n          <rect\n            fill={defaultColor[1]}\n            x={rects[1][0] - 40}\n            y={rects[1][1] - pointSideLength}\n            width=\"40\"\n            height={pointSideLength * 2}\n          >\n            <animate attributeName=\"width\" values=\"0;40;0\" dur=\"2s\" repeatCount=\"indefinite\" />\n            <animate\n              attributeName=\"x\"\n              values={`${rects[1][0]};${rects[1][0] - 40};${rects[1][0]}`}\n              dur=\"2s\"\n              repeatCount=\"indefinite\"\n            />\n          </rect>\n        )}\n      </svg>\n    </div>\n  );\n});\n\nDecoration.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  color: PropTypes.array\n};\n\nexport default Decoration;\n"]},"metadata":{},"sourceType":"module"}