{"ast":null,"code":"import \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/xiangmingxin/Wicrecend/Primitives/src/materials/form/select/dependence.js\";\n\nimport React, { useMemo } from \"react\";\nimport fetcher from \"~materials/hoc\";\nimport { useTools } from \"~common/hooks\";\n\nvar SelectComponent = function SelectComponent(_ref) {\n  var name = _ref.name,\n      value = _ref.value,\n      onChange = _ref.onChange;\n\n  var _useTools = useTools(),\n      state = _useTools.state;\n\n  var options = useMemo(function () {\n    return state.components.filter(function (v) {\n      return v.uniqueId !== state.selected && v.data.dependence;\n    });\n  }, [state.selected]); // TODO: 联动参数处理\n\n  var onDependenceChange = function onDependenceChange(value) {\n    onChange(name, value);\n  };\n\n  return /*#__PURE__*/React.createElement(_Select, {\n    style: {\n      width: \"100%\"\n    },\n    mode: \"multiple\",\n    allowClear: true,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u8054\\u52A8\\u56FE\\u8868\",\n    value: value,\n    onChange: onDependenceChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, options.length > 0 && options.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(_Select.Option, {\n      key: index,\n      value: item.uniqueId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, item.name);\n  }));\n};\n\nexport default fetcher(SelectComponent);","map":{"version":3,"sources":["/Users/xiangmingxin/Wicrecend/Primitives/src/materials/form/select/dependence.js"],"names":["React","useMemo","fetcher","useTools","SelectComponent","name","value","onChange","state","options","components","filter","v","uniqueId","selected","data","dependence","onDependenceChange","width","length","map","item","index"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AAEA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,QAAT,QAAyB,eAAzB;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAA+B;AAAA,MAA5BC,IAA4B,QAA5BA,IAA4B;AAAA,MAAtBC,KAAsB,QAAtBA,KAAsB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBACnCJ,QAAQ,EAD2B;AAAA,MAC7CK,KAD6C,aAC7CA,KAD6C;;AAGrD,MAAMC,OAAO,GAAGR,OAAO,CAAC,YAAM;AAC5B,WAAOO,KAAK,CAACE,UAAN,CAAiBC,MAAjB,CAAwB,UAACC,CAAD;AAAA,aAAOA,CAAC,CAACC,QAAF,KAAeL,KAAK,CAACM,QAArB,IAAiCF,CAAC,CAACG,IAAF,CAAOC,UAA/C;AAAA,KAAxB,CAAP;AACD,GAFsB,EAEpB,CAACR,KAAK,CAACM,QAAP,CAFoB,CAAvB,CAHqD,CAOrD;;AACA,MAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAACX,KAAD,EAAW;AACpCC,IAAAA,QAAQ,CAACF,IAAD,EAAOC,KAAP,CAAR;AACD,GAFD;;AAIA,sBACE;AACE,IAAA,KAAK,EAAE;AAAEY,MAAAA,KAAK,EAAE;AAAT,KADT;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,UAAU,EAAE,IAHd;AAIE,IAAA,WAAW,EAAC,4CAJd;AAKE,IAAA,KAAK,EAAEZ,KALT;AAME,IAAA,QAAQ,EAAEW,kBANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGR,OAAO,CAACU,MAAR,GAAiB,CAAjB,IACCV,OAAO,CAACW,GAAR,CAAY,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC3B,wBACE,4BAAQ,MAAR;AAAe,MAAA,GAAG,EAAEA,KAApB;AAA2B,MAAA,KAAK,EAAED,IAAI,CAACR,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGQ,IAAI,CAAChB,IADR,CADF;AAKD,GAND,CATJ,CADF;AAmBD,CA/BD;;AAiCA,eAAeH,OAAO,CAACE,eAAD,CAAtB","sourcesContent":["import React, { useMemo } from \"react\";\nimport { Select } from \"antd\";\nimport fetcher from \"~materials/hoc\";\nimport { useTools } from \"~common/hooks\";\n\nconst SelectComponent = ({ name, value, onChange }) => {\n  const { state } = useTools();\n\n  const options = useMemo(() => {\n    return state.components.filter((v) => v.uniqueId !== state.selected && v.data.dependence);\n  }, [state.selected]);\n\n  // TODO: 联动参数处理\n  const onDependenceChange = (value) => {\n    onChange(name, value);\n  };\n\n  return (\n    <Select\n      style={{ width: \"100%\" }}\n      mode=\"multiple\"\n      allowClear={true}\n      placeholder=\"请选择联动图表\"\n      value={value}\n      onChange={onDependenceChange}\n    >\n      {options.length > 0 &&\n        options.map((item, index) => {\n          return (\n            <Select.Option key={index} value={item.uniqueId}>\n              {item.name}\n            </Select.Option>\n          );\n        })}\n    </Select>\n  );\n};\n\nexport default fetcher(SelectComponent);\n"]},"metadata":{},"sourceType":"module"}