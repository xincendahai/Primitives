{"ast":null,"code":"import _defineProperty from \"/Users/xiangmingxin/Wicrecend/Primitives/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"/Users/xiangmingxin/Wicrecend/Primitives/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/xiangmingxin/Wicrecend/Primitives/src/library/renderer/compiler/parser.jsx\";\n\n/**\n * 下钻模态框组件解析\n */\nimport React, { useMemo, useCallback } from \"react\";\nimport cx from \"classnames\";\nimport { connect } from \"react-redux\";\nimport generator from \"../generator\";\nimport { getField } from \"~materials\";\nimport { converLayout } from \"~utils/helper\";\nimport { suid } from \"~utils\";\n\nvar GeneratorField = function GeneratorField(_ref) {\n  var _cx;\n\n  var mode = _ref.mode,\n      value = _ref.value,\n      onRowValueChange = _ref.onRowValueChange;\n\n  var _value$data = value.data,\n      width = _value$data.width,\n      height = _value$data.height,\n      background = _value$data.background,\n      rest = _objectWithoutProperties(_value$data, [\"width\", \"height\", \"background\"]);\n\n  var classNames = cx(\"gc-field animate__animated\", (_cx = {}, _defineProperty(_cx, \"animate__\".concat(rest.animateType), rest.animateType), _defineProperty(_cx, \"animate__\".concat(rest.animateSpeed), rest.animateSpeed), _defineProperty(_cx, \"animate__\".concat(rest.animateRepeat), rest.animateRepeat), _defineProperty(_cx, \"animate__delay-\".concat(rest.animateTime, \"s\"), rest.animateTime), _cx));\n  var overwriteStyle = {\n    width: mode === \"development\" ? \"100%\" : \"calc((width || 1) / 12 * 90%)\",\n    height: converLayout(height),\n    borderStyle: rest.borderStyle || \"solid\",\n    borderColor: \"transparent\",\n    background: background,\n    borderRadius: rest.borderRadius,\n    borderWidth: rest.borderWidth || 2,\n    boxShadow: rest.shadowColor ? \"\".concat(rest.shadowColor, \" \").concat(rest.shadowWidth || 0, \" \").concat(rest.shadowOffset || 0, \" \").concat(rest.shadowOffset || 0) : rest.shadowWidth\n  };\n  var getSubField = useCallback(function (m) {\n    var prop = getField(value.type);\n    return generator(prop)(m);\n  }, [value.type]);\n  var fieldProps = useMemo(function () {\n    return {\n      value: value.data,\n      type: value.type,\n      uniqueId: suid(),\n      options: value.data.config || {},\n      onChange: function onChange(val, level) {\n        if (!onRowValueChange) return;\n        console.log(\"val\", val, \"level\", level);\n        onRowValueChange(val, level);\n      }\n    };\n  }, [value.data, onRowValueChange]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames,\n    style: overwriteStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, getSubField(fieldProps));\n};\n\nexport default connect(function (state) {\n  return {\n    mode: state.component.mode\n  };\n})(GeneratorField);","map":{"version":3,"sources":["/Users/xiangmingxin/Wicrecend/Primitives/src/library/renderer/compiler/parser.jsx"],"names":["React","useMemo","useCallback","cx","connect","generator","getField","converLayout","suid","GeneratorField","mode","value","onRowValueChange","data","width","height","background","rest","classNames","animateType","animateSpeed","animateRepeat","animateTime","overwriteStyle","borderStyle","borderColor","borderRadius","borderWidth","boxShadow","shadowColor","shadowWidth","shadowOffset","getSubField","m","prop","type","fieldProps","uniqueId","options","config","onChange","val","level","console","log","state","component"],"mappings":"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","sourcesContent":["/**\n * 下钻模态框组件解析\n */\nimport React, { useMemo, useCallback } from \"react\";\nimport cx from \"classnames\";\nimport { connect } from \"react-redux\";\nimport generator from \"../generator\";\nimport { getField } from \"~materials\";\nimport { converLayout } from \"~utils/helper\";\nimport { suid } from \"~utils\";\n\nconst GeneratorField = ({ mode, value, onRowValueChange }) => {\n  const { width, height, background, ...rest } = value.data;\n\n  const classNames = cx(\"gc-field animate__animated\", {\n    [`animate__${rest.animateType}`]: rest.animateType,\n    [`animate__${rest.animateSpeed}`]: rest.animateSpeed,\n    [`animate__${rest.animateRepeat}`]: rest.animateRepeat,\n    [`animate__delay-${rest.animateTime}s`]: rest.animateTime\n  });\n\n  const overwriteStyle = {\n    width: mode === \"development\" ? \"100%\" : \"calc((width || 1) / 12 * 90%)\",\n    height: converLayout(height),\n    borderStyle: rest.borderStyle || \"solid\",\n    borderColor: \"transparent\",\n    background,\n    borderRadius: rest.borderRadius,\n    borderWidth: rest.borderWidth || 2,\n    boxShadow: rest.shadowColor\n      ? `${rest.shadowColor} ${rest.shadowWidth || 0} ${rest.shadowOffset || 0} ${rest.shadowOffset || 0}`\n      : rest.shadowWidth\n  };\n\n  const getSubField = useCallback(\n    (m) => {\n      const prop = getField(value.type);\n      return generator(prop)(m);\n    },\n    [value.type]\n  );\n\n  const fieldProps = useMemo(\n    () => ({\n      value: value.data,\n      type: value.type,\n      uniqueId: suid(),\n      options: value.data.config || {},\n      onChange: (val, level) => {\n        if (!onRowValueChange) return;\n        console.log(\"val\", val, \"level\", level);\n        onRowValueChange(val, level);\n      }\n    }),\n    [value.data, onRowValueChange]\n  );\n\n  return (\n    <div className={classNames} style={overwriteStyle}>\n      {getSubField(fieldProps)}\n    </div>\n  );\n};\n\nexport default connect((state) => ({\n  mode: state.component.mode\n}))(GeneratorField);\n"]},"metadata":{},"sourceType":"module"}